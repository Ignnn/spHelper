% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rmExpression.R
\name{rmExpr}
\alias{rmExpr}
\title{[.] Convert expressions in \code{ggplot2} object labels to strings}
\usage{
rmExpr(p = ggplot2::last_plot())
}
\arguments{
\item{p}{ggplot2 object}
}
\value{
ggplot2 object
}
\description{
Convert expressions in \code{\link[ggplot2]{ggplot}} object labels to strings, to
enable them to be plotted with \code{\link[plotly]{ggplotly}}.
}
\examples{
data(flu, package = "hyperSpec")

qplotspc(flu)
ggplotly()

rmExpr()
ggplotly()

#--------------------------------
p1 <- plot_sp(Loadings)
p1$labels

p2 <- rmExpr(p1)
p2$labels

ggplotly(p1)
ggplotly(p2)

#----------------------------------
\donttest{
\dontrun{
qplotspc(aggregate(chondro, chondro$clusters, mean_pm_sd),
mapping = aes(x = .wavelength,
              y = spc,
              colour = clusters)) +
    facet_grid(clusters ~ .) + ggtitle("Spectra of Chondrocytes")

 rmExpr()
 ggplotly()

 # Namually correct `plotly` object
 pp  <- plotly_build(p)
 ppp <- plotly_build(p2)
 str(ppp)
 # Add legend
 pp$layout$showlegend <- TRUE

 # Remove stripe text
 pp$layout$annotations[1:3] <- NULL

 # Position of legends
 pp$layout$annotations[[1]]$y <- -.1
 pp$layout$annotations[[2]]$x <- -.2
 pp

 p = ggplot2::last_plot()
 p$labels$x
#' }}

}
\seealso{
Other spHelper plots: \code{\link{nTick}},
  \code{\link{plot_confusion}}, \code{\link{plot_infoDim}},
  \code{\link{plot_kAmp}}, \code{\link{plot_kSp}},
  \code{\link{plot_spDiff}}, \code{\link{plot_stat}},
  \code{\link{stat_chull}}
}

